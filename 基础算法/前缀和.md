# 前缀和

## 一维前缀和

```C++
S[i] = a[1] + a[2] + ... a[i]
a[l] + ... + a[r] = S[r] - S[l - 1]
```

## 二维前缀和

```C++
// 第i行j列格子左上部分所有元素的和
S[i][j] = S[i-1][j] + S[i][j-1] - S[i-1][j-1] + num[i][j];
// 以(x1, y1)为左上角，(x2, y2)为右下角的子矩阵的和为：
S[x2][y2] - S[x1 - 1][y2] - S[x2][y1 - 1] + S[x1 - 1][y1 - 1];

// 通常也可以直接将原原数组化为前缀和矩阵
num[x2][y2] - num[x1 - 1][y2] - num[x2][y1 - 1] + num[x1 - 1][y1 - 1];
// 以(x1, y1)为左上角，(x2, y2)为右下角的子矩阵的和为：
num[i][j] = num[i-1][j] + num[i][j-1] - num[i-1][j-1] + num[i][j];
```
